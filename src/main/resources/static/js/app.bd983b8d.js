(function(){"use strict";var e={8703:function(e,t,r){var o=r(9242),s=r(3396);function l(e,t,r,o,l,a){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(n)}var a={name:"App"},n=r(89);const i=(0,n.Z)(a,[["render",l]]);var d=i,u=r(2483),p=r(7139);const c={class:"login_bg"},h={class:"loginBox"},m=(0,s._)("header",{class:"loginHeader"},[(0,s._)("h1",null,"超市订单管理系统")],-1),_={class:"loginCont"},v={class:"loginForm"},g={class:"inputbox"},w=(0,s._)("label",{for:"userCode"},"用户名：",-1),f={class:"inputbox"},y=(0,s._)("label",{for:"userPassword"},"密码：",-1),b={class:"info"},P={class:"subBtn"};function C(e,t,r,l,a,n){return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("section",h,[m,(0,s._)("section",_,[(0,s._)("div",v,[(0,s._)("div",g,[w,(0,s.wy)((0,s._)("input",{type:"text",class:"input-text","onUpdate:modelValue":t[0]||(t[0]=e=>a.userCode=e),name:"userCode",placeholder:"请输入用户名",required:""},null,512),[[o.nr,a.userCode]])]),(0,s._)("div",f,[y,(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.userPassword=e),name:"userPassword",placeholder:"请输入密码",required:""},null,512),[[o.nr,a.userPassword]]),(0,s._)("div",b,(0,p.zw)(a.error),1)]),(0,s._)("div",P,[(0,s._)("input",{type:"submit",value:"登录",onClick:t[2]||(t[2]=(...e)=>n.login&&n.login(...e))}),(0,s._)("input",{type:"reset",value:"重置",onClick:t[3]||(t[3]=(...e)=>n.reset&&n.reset(...e))})])])])])])}r(7658);var F=r(6265),N=r.n(F),U={name:"Login",setup(){const e=(0,s.f3)("emitter"),t=t=>{e.emit("getUser",t)};return{notify:t}},data(){return{userCode:"",userPassword:"",error:""}},methods:{login(){let e=`http://localhost:8080/login?userCode=${this.userCode}&userPassword=${this.userPassword}`;N().post(e).then((e=>{"success"==e.data.status?(sessionStorage.setItem("loginStatus","success"),this.session.user=e.data.user,this.$router.push("/")):this.error="用户名或密码错误"}))},reset(){this.userCode="",this.userPassword=""}}};const k=(0,n.Z)(U,[["render",C]]);var B=k;const x={class:"publicMian"},z={class:"left"},I={class:"right"};function D(e,t,r,o,l,a){const n=(0,s.up)("Header"),i=(0,s.up)("Side"),d=(0,s.up)("Welcome"),u=(0,s.up)("router-view"),p=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(n),(0,s._)("section",x,[(0,s._)("div",z,[(0,s.Wm)(i)]),(0,s._)("div",I,[l.isHome?((0,s.wg)(),(0,s.j4)(d,{key:0})):((0,s.wg)(),(0,s.j4)(u,{key:1}))])]),(0,s.Wm)(p)],64)}const A={class:"publicHeader"},q=(0,s.Uk)("超市订单管理系统"),R={class:"publicHeaderR"},V={style:{color:"#fff21b"}},j=(0,s.Uk)(" , 欢迎你！"),T=(0,s.Uk)("退出"),H=(0,s._)("section",{class:"publicTime"},[(0,s._)("span",{id:"time"}),(0,s._)("a",{href:"javascript:;"},"温馨提示：为了能正常浏览，请使用高版本浏览器！（IE10+）")],-1);function W(e,t,r,o,l,a){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("header",A,[(0,s._)("h1",null,[(0,s.Wm)(n,{to:"/"},{default:(0,s.w5)((()=>[q])),_:1})]),(0,s._)("div",R,[(0,s._)("p",null,[(0,s._)("span",V,(0,p.zw)(l.userName),1),j]),(0,s.Wm)(n,{to:"/login"},{default:(0,s.w5)((()=>[T])),_:1})])]),H],64)}var Z={name:"Header",data(){return{userName:""}},created(){let e=this.session.user;e&&(this.userName=e.userName||"")}};const Y=(0,n.Z)(Z,[["render",W]]);var S=Y;const E={class:"footer"};function O(e,t,r,o,l,a){return(0,s.wg)(),(0,s.iD)("footer",E," 超市订单管理系统 ")}var L={name:"Footer"};const M=(0,n.Z)(L,[["render",O]]);var K=M;const J=(0,s._)("h2",{class:"leftH2"},[(0,s._)("span",{class:"span1"}),(0,s.Uk)(" 功能列表 "),(0,s._)("span")],-1),G={class:"list"},Q=(0,s.Uk)("订单管理"),X=(0,s.Uk)("供应商管理"),ee=(0,s.Uk)("用户管理"),te=(0,s.Uk)("密码修改"),re=(0,s.Uk)("退出系统");function oe(e,t,r,o,l,a){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[J,(0,s._)("nav",null,[(0,s._)("ul",G,[(0,s._)("li",null,[(0,s.Wm)(n,{to:"/bill/list"},{default:(0,s.w5)((()=>[Q])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(n,{to:"/provider/list"},{default:(0,s.w5)((()=>[X])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(n,{to:"/user/list"},{default:(0,s.w5)((()=>[ee])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(n,{to:"/user/modifypwd"},{default:(0,s.w5)((()=>[te])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(n,{to:"/login"},{default:(0,s.w5)((()=>[re])),_:1})])])])],64)}var se={name:"Side"};const le=(0,n.Z)(se,[["render",oe]]);var ae=le;const ne=(0,s._)("img",{class:"wColck",src:"/assets/images/clock.jpg"},null,-1),ie={class:"wFont"},de=(0,s._)("p",null,"欢迎来到超市订单管理系统!",-1);function ue(e,t,r,o,l,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[ne,(0,s._)("div",ie,[(0,s._)("h2",null,(0,p.zw)(l.userName),1),de])],64)}var pe={name:"Welcome",data(){return{userName:""}},created(){let e=this.session.user;e&&(this.userName=e.userName||"")}};const ce=(0,n.Z)(pe,[["render",ue]]);var he=ce,me={name:"Home",components:{Header:S,Footer:K,Side:ae,Welcome:he},data(){return{isHome:!0,user:{}}},beforeRouteEnter(e,t,r){r((t=>t.isHome="/"==e.path))},beforeRouteUpdate(e,t){this.isHome="/"==e.path}};const _e=(0,n.Z)(me,[["render",D]]);var ve=_e;function ge(e,t,r,o,l,a){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(n)}var we={name:"Bill"};const fe=(0,n.Z)(we,[["render",ge]]);var ye=fe;function be(e,t,r,o,l,a){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(n)}var Pe={name:"Provider"};const Ce=(0,n.Z)(Pe,[["render",be]]);var Fe=Ce;function Ne(e,t,r,o,l,a){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(n)}var Ue={name:"User"};const ke=(0,n.Z)(Ue,[["render",Ne]]);var Be=ke;const xe=(0,s._)("div",{class:"location"},[(0,s._)("strong",null,"你现在所在的位置是:"),(0,s._)("span",null,"订单管理页面")],-1),$e={class:"search"},ze=(0,s._)("span",null,"商品名称：",-1),Ie=(0,s._)("span",null,"供应商：",-1),De=(0,s._)("option",{value:"0"},"--请选择--",-1),Ae=["value"],qe=(0,s._)("span",null,"是否付款：",-1),Re=(0,s._)("option",{value:"0"},"--请选择--",-1),Ve=(0,s._)("option",{value:"1"},"未付款",-1),je=(0,s._)("option",{value:"2"},"已付款",-1),Te=[Re,Ve,je],He=(0,s.Uk)("添加订单"),We={class:"providerTable",cellpadding:"0",cellspacing:"0"},Ze=(0,s._)("tr",{class:"firstTr"},[(0,s._)("th",{width:"10%"},"订单编码"),(0,s._)("th",{width:"20%"},"商品名称"),(0,s._)("th",{width:"10%"},"供应商"),(0,s._)("th",{width:"10%"},"订单金额"),(0,s._)("th",{width:"10%"},"是否付款"),(0,s._)("th",{width:"10%"},"创建时间"),(0,s._)("th",{width:"30%"},"操作")],-1);function Ye(e,t,r,l,a,n){const i=(0,s.up)("router-link"),d=(0,s.up)("ListItem"),u=(0,s.up)("RollPage");return(0,s.wg)(),(0,s.iD)(s.HY,null,[xe,(0,s._)("div",$e,[ze,(0,s.wy)((0,s._)("input",{name:"productName",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.queryProductName=e)},null,512),[[o.nr,a.queryProductName]]),Ie,(0,s.wy)((0,s._)("select",{name:"providerId","onUpdate:modelValue":t[1]||(t[1]=e=>a.queryProviderId=e)},[De,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.providers,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.id},(0,p.zw)(e.proName),9,Ae)))),256))],512),[[o.bM,a.queryProviderId]]),qe,(0,s.wy)((0,s._)("select",{name:"isPayment","onUpdate:modelValue":t[2]||(t[2]=e=>a.queryIsPayment=e)},Te,512),[[o.bM,a.queryIsPayment]]),(0,s._)("input",{value:"查 询",type:"submit",id:"searchbutton",onClick:t[3]||(t[3]=(...e)=>n.queryBill&&n.queryBill(...e))}),(0,s.Wm)(i,{to:"/bill/add"},{default:(0,s.w5)((()=>[He])),_:1})]),(0,s._)("table",We,[Ze,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.bills,(e=>((0,s.wg)(),(0,s.j4)(d,{key:e.id,bill:e,providers:a.providers,onRemoveBill:n.removeBill},null,8,["bill","providers","onRemoveBill"])))),128))]),(0,s.Wm)(u,{page:a.page,onJumpToPage:n.jumpToPage},null,8,["page","onJumpToPage"])],64)}const Se=e=>((0,s.dD)("data-v-27ec9a0f"),e=e(),(0,s.Cn)(),e),Ee={class:"page-bar"},Oe={class:"page-num-ul clearfix"},Le={style:{"margin-right":"10px"}},Me={key:0},Ke={key:1},Je={class:"page-go-form"},Ge=Se((()=>(0,s._)("label",null,"跳转至",-1))),Qe=(0,s.Uk)("页 ");function Xe(e,t,r,l,a,n){return(0,s.wg)(),(0,s.iD)("div",Ee,[(0,s._)("ul",Oe,[(0,s._)("li",Le,"共"+(0,p.zw)(r.page.totalCount)+"条记录   "+(0,p.zw)(r.page.currentPage)+"/"+(0,p.zw)(r.page.totalPage)+"页",1),r.page.currentPage>1?((0,s.wg)(),(0,s.iD)("span",Me,[(0,s._)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.firstPage&&n.firstPage(...e))},"首页"),(0,s._)("a",{href:"javascript:;",onClick:t[1]||(t[1]=(...e)=>n.prevPage&&n.prevPage(...e))},"上一页")])):(0,s.kq)("",!0),r.page.currentPage<r.page.totalPage?((0,s.wg)(),(0,s.iD)("span",Ke,[(0,s._)("a",{href:"javascript:;",onClick:t[2]||(t[2]=(...e)=>n.nextPage&&n.nextPage(...e))},"下一页"),(0,s._)("a",{href:"javascript:;",onClick:t[3]||(t[3]=(...e)=>n.lastPage&&n.lastPage(...e))},"最后一页")])):(0,s.kq)("",!0)]),(0,s._)("span",Je,[Ge,(0,s.wy)((0,s._)("input",{type:"text",name:"inputPage",class:"page-key","onUpdate:modelValue":t[4]||(t[4]=e=>a.targetPage=e)},null,512),[[o.nr,a.targetPage]]),Qe,(0,s._)("button",{type:"button",class:"page-btn",onClick:t[5]||(t[5]=(...e)=>n.jumpTo&&n.jumpTo(...e))},"GO")])])}var et={name:"RollPage",props:["page"],data(){return{targetPage:""}},methods:{firstPage(){this.$emit("jumpToPage",1)},prevPage(){this.$emit("jumpToPage",this.page.currentPage-1)},nextPage(){this.$emit("jumpToPage",this.page.currentPage+1)},lastPage(){this.$emit("jumpToPage",this.page.totalPage)},jumpTo(){let e=/^[1-9]\d*$/;e.test(this.targetPage)?this.targetPage-this.page.totalPage>0?alert("请输入小于总页数的页码"):this.$emit("jumpToPage",this.targetPage):alert("请输入大于0的正整数！")}}};const tt=(0,n.Z)(et,[["render",Xe],["__scopeId","data-v-27ec9a0f"]]);var rt=tt;const ot=(0,s._)("img",{src:"/assets/images/read.png",alt:"查看",title:"查看"},null,-1),st=(0,s._)("img",{src:"/assets/images/xiugai.png",alt:"修改",title:"修改"},null,-1),lt=(0,s._)("img",{src:"/assets/images/schu.png",alt:"删除",title:"删除"},null,-1),at=[lt];function nt(e,t,r,o,l,a){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.bill.billCode),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.bill.productName),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(a.providerName),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.bill.totalPrice),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(1==r.bill.isPayment?"未付款":"已付款"),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.bill.creationDate),1)]),(0,s._)("td",null,[(0,s._)("span",null,[(0,s.Wm)(n,{to:{name:"bill-view",params:{id:r.bill.id}}},{default:(0,s.w5)((()=>[ot])),_:1},8,["to"])]),(0,s._)("span",null,[(0,s.Wm)(n,{to:{name:"bill-edit",params:{id:r.bill.id}}},{default:(0,s.w5)((()=>[st])),_:1},8,["to"])]),(0,s._)("span",null,[(0,s._)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>a.removeBill&&a.removeBill(...e))},at)])])])}var it={name:"ListItem",props:["bill","providers"],computed:{providerName(){let e=this.providers.find((e=>e.id==this.bill.providerId));return e?e.proName:""}},methods:{removeBill(){this.$emit("removeBill",this.bill)}}};const dt=(0,n.Z)(it,[["render",nt]]);var ut=dt;const pt=5;var ct={name:"BillList",components:{RollPage:rt,ListItem:ut},data(){return{queryProductName:"",queryProviderId:0,queryIsPayment:0,providers:[],bills:[],page:{totalCount:0,pageSize:pt,totalPage:0,currentPage:1}}},methods:{getAllProviders(){N().get("http://localhost:8080/providers/all").then((e=>{200==e.status&&(this.providers=e.data||[])}))},getBillsByConditions(e,t,r,o,s){let l=`http://localhost:8080/bills?currentPage=${e}&pageSize=${t}&productName=${r}&providerId=${o}&isPayment=${s}`;N().get(l).then((e=>{200==e.status&&(this.bills=e.data.records||[],this.page.totalCount=e.data.total,this.page.totalPage=e.data.pages,this.page.currentPage=e.data.current)}))},queryBill(){this.getBillsByConditions(1,this.page.pageSize,this.queryProductName,this.queryProviderId,this.queryIsPayment)},jumpToPage(e){this.getBillsByConditions(e,this.page.pageSize,this.queryProductName,this.queryProviderId,this.queryIsPayment)},removeBill(e){this.$swal({title:"确认删除?",text:"数据将会被删除!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"确认!",cancelButtonColor:"#d33",cancelButtonText:"取消"}).then((t=>{t.isConfirmed&&N()["delete"]("http://localhost:8080/bills/"+e.id).then((t=>{if(t.data){let t=this.bills.indexOf(e);-1!=t&&this.bills.splice(t,1),$.notify("删除成功",{className:"success",position:"left top"})}else $.notify("删除失败",{className:"error",position:"left top"})}))}))}},created(){this.getAllProviders(),this.queryBill()}};const ht=(0,n.Z)(ct,[["render",Ye]]);var mt=ht;const _t=(0,s._)("div",{class:"location"},[(0,s._)("strong",null,"你现在所在的位置是:"),(0,s._)("span",null,"订单管理页面 >> 信息查看")],-1),vt={class:"providerView"},gt=(0,s._)("strong",null,"订单编号：",-1),wt=(0,s._)("strong",null,"商品名称：",-1),ft=(0,s._)("strong",null,"商品单位：",-1),yt=(0,s._)("strong",null,"商品数量：",-1),bt=(0,s._)("strong",null,"总金额：",-1),Pt=(0,s._)("strong",null,"供应商：",-1),Ct=(0,s._)("strong",null,"是否付款：",-1),Ft={class:"providerAddBtn"};function Nt(e,t,r,o,l,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[_t,(0,s._)("div",vt,[(0,s._)("p",null,[gt,(0,s._)("span",null,(0,p.zw)(l.bill.billCode),1)]),(0,s._)("p",null,[wt,(0,s._)("span",null,(0,p.zw)(l.bill.productName),1)]),(0,s._)("p",null,[ft,(0,s._)("span",null,(0,p.zw)(l.bill.productUnit),1)]),(0,s._)("p",null,[yt,(0,s._)("span",null,(0,p.zw)(l.bill.productCount),1)]),(0,s._)("p",null,[bt,(0,s._)("span",null,(0,p.zw)(l.bill.totalPrice),1)]),(0,s._)("p",null,[Pt,(0,s._)("span",null,(0,p.zw)(l.bill.proName),1)]),(0,s._)("p",null,[Ct,(0,s.Uk)((0,p.zw)(1==l.bill.isPayment?"未付款":"已付款"),1)]),(0,s._)("div",Ft,[(0,s._)("input",{type:"button",name:"back",value:"返回",onClick:t[0]||(t[0]=(...e)=>a.back&&a.back(...e))})])])],64)}var Ut={name:"BillView",props:["id"],data(){return{bill:{}}},methods:{back(){this.$router.back()}},created(){N().get("http://localhost:8080/bills/"+this.id).then((e=>{200==e.status&&(this.bill=e.data)}))}};const kt=(0,n.Z)(Ut,[["render",Nt]]);var Bt=kt;const xt=e=>((0,s.dD)("data-v-55bb13d5"),e=e(),(0,s.Cn)(),e),$t=xt((()=>(0,s._)("div",{class:"location"},[(0,s._)("strong",null,"你现在所在的位置是:"),(0,s._)("span",null,"订单管理页面 >> 订单添加页面")],-1))),zt={class:"providerAdd"},It=xt((()=>(0,s._)("label",{for:"billCode"},"订单编码：",-1))),Dt=["readonly"],At=xt((()=>(0,s._)("span",{color:"red"},"*",-1))),qt=xt((()=>(0,s._)("label",{for:"productName"},"商品名称：",-1))),Rt=xt((()=>(0,s._)("span",{color:"red"},"*",-1))),Vt=xt((()=>(0,s._)("label",{for:"productUnit"},"商品单位：",-1))),jt=xt((()=>(0,s._)("span",{color:"red"},"*",-1))),Tt=xt((()=>(0,s._)("label",{for:"productCount"},"商品数量：",-1))),Ht=xt((()=>(0,s._)("span",{color:"red"},"*",-1))),Wt=xt((()=>(0,s._)("label",{for:"totalPrice"},"总金额：",-1))),Zt=xt((()=>(0,s._)("span",{color:"red"},"*",-1))),Yt=xt((()=>(0,s._)("label",{for:"providerId"},"供应商：",-1))),St=xt((()=>(0,s._)("option",{value:"0"},"--请选择--",-1))),Et=["value"],Ot=xt((()=>(0,s._)("span",{color:"red"},"*",-1))),Lt=xt((()=>(0,s._)("label",null,"是否付款：",-1))),Mt=["checked"],Kt=(0,s.Uk)("未付款 "),Jt=["checked"],Gt=(0,s.Uk)("已付款 "),Qt={class:"providerAddBtn"};function Xt(e,t,r,l,a,n){return(0,s.wg)(),(0,s.iD)(s.HY,null,[$t,(0,s._)("div",zt,[(0,s._)("div",null,[It,(0,s.wy)((0,s._)("input",{type:"text",name:"billCode","onUpdate:modelValue":t[0]||(t[0]=e=>a.billCode=e),readonly:!n.isAdd,onFocus:t[1]||(t[1]=e=>n.remind("* 请输入订单编码",e)),onBlur:t[2]||(t[2]=e=>n.validate("billCode",e))},null,40,Dt),[[o.nr,a.billCode]]),At]),(0,s._)("div",null,[qt,(0,s.wy)((0,s._)("input",{type:"text",name:"productName","onUpdate:modelValue":t[3]||(t[3]=e=>a.productName=e),onFocus:t[4]||(t[4]=e=>n.remind("* 请输入商品名称",e)),onBlur:t[5]||(t[5]=e=>n.validate("productName",e))},null,544),[[o.nr,a.productName]]),Rt]),(0,s._)("div",null,[Vt,(0,s.wy)((0,s._)("input",{type:"text",name:"productUnit","onUpdate:modelValue":t[6]||(t[6]=e=>a.productUnit=e),onFocus:t[7]||(t[7]=e=>n.remind("* 请输入商品单位",e)),onBlur:t[8]||(t[8]=e=>n.validate("productUnit",e))},null,544),[[o.nr,a.productUnit]]),jt]),(0,s._)("div",null,[Tt,(0,s.wy)((0,s._)("input",{type:"text",name:"productCount","onUpdate:modelValue":t[9]||(t[9]=e=>a.productCount=e),onFocus:t[10]||(t[10]=e=>n.remind("* 请输入大于0的正自然数，小数点后保留2位",e)),onBlur:t[11]||(t[11]=e=>n.validate("productCount",e))},null,544),[[o.nr,a.productCount]]),Ht]),(0,s._)("div",null,[Wt,(0,s.wy)((0,s._)("input",{type:"text",name:"totalPrice","onUpdate:modelValue":t[12]||(t[12]=e=>a.totalPrice=e),onFocus:t[13]||(t[13]=e=>n.remind("* 请输入大于0的正自然数，小数点后保留2位",e)),onBlur:t[14]||(t[14]=e=>n.validate("totalPrice",e))},null,544),[[o.nr,a.totalPrice]]),Zt]),(0,s._)("div",null,[Yt,(0,s.wy)((0,s._)("select",{name:"providerId","onUpdate:modelValue":t[15]||(t[15]=e=>a.providerId=e),onFocus:t[16]||(t[16]=e=>n.remind("* 请选择供应商",e)),onBlur:t[17]||(t[17]=e=>n.validate("providerId",e))},[St,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.providers,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.id},(0,p.zw)(e.proName),9,Et)))),256))],544),[[o.bM,a.providerId]]),Ot]),(0,s._)("div",null,[Lt,(0,s.wy)((0,s._)("input",{type:"radio",name:"isPayment",value:"1","onUpdate:modelValue":t[18]||(t[18]=e=>a.isPayment=e),checked:1==a.isPayment},null,8,Mt),[[o.G2,a.isPayment]]),Kt,(0,s.wy)((0,s._)("input",{type:"radio",name:"isPayment",value:"2","onUpdate:modelValue":t[19]||(t[19]=e=>a.isPayment=e),checked:2==a.isPayment},null,8,Jt),[[o.G2,a.isPayment]]),Gt]),(0,s._)("div",Qt,[(0,s._)("input",{type:"button",name:"add",value:"保存",onClick:t[20]||(t[20]=(...e)=>n.save&&n.save(...e))}),(0,s._)("input",{type:"button",name:"back",value:"返回",onClick:t[21]||(t[21]=(...e)=>n.back&&n.back(...e))})])])],64)}const er=(e,t,r)=>{let o="<img width='15px' src='/assets/images/y.png' />",s="<img width='15px' src='/assets/images/n.png' />",l=$(e.target);"info"==t&&(l.next().css("color","#666666"),l.next().html(r)),"error"==t&&(l.next().css("color","red"),l.next().html(s+r)),"success"==t&&(l.next().css("color","green"),l.next().html(o+r))};var tr={name:"BillEdit",props:["id"],data(){return{providers:[],billCode:"",billCodeFit:!1,productName:"",productNameFit:!1,productUnit:"",productUnitFit:!1,productCount:"",productCountFit:!1,totalPrice:"",totalPriceFit:!1,providerId:0,providerIdFit:!1,isPayment:1}},computed:{isAdd(){return!this.id}},methods:{remind(e,t){er(t,"info",e)},validate(e,t){if("billCode"==e){let e=""!=this.billCode;e?er(t,"success",""):er(t,"error","编码不能为空，请重新输入"),this.billCodeFit=e}if("productName"==e){let e=""!=this.productName;e?er(t,"success",""):er(t,"error","商品名称不能为空，请重新输入"),this.productNameFit=e}if("productUnit"==e){let e=""!=this.productUnit;e?er(t,"success",""):er(t,"error","单位不能为空，请重新输入"),this.productUnitFit=e}if("productCount"==e){let e=""!=this.productCount;e?er(t,"success",""):er(t,"error","单位不能为空，请重新输入"),this.productCountFit=e}if("productCount"==e){let e=/^[0-9]+(.[0-9]{2})?$/,r=this.productCount.match(e);r?er(t,"success",""):er(t,"error","您输入的商品数量格式不正确"),this.productCountFit=r}if("totalPrice"==e){let e=/^[0-9]+(.[0-9]{2})?$/,r=this.totalPrice.match(e);r?er(t,"success",""):er(t,"error","您输入的金额格式不正确"),this.totalPriceFit=r}if("providerId"==e){let e=0!=this.providerId;e?er(t,"success",""):er(t,"error","供应商不能为空，请选择"),this.providerIdFit=e}},getIsAllFit(e){let t=!0;return e.forEach((e=>{this[e]||(t=!1)})),t||alert("请检查表单数据"),t},addBill(){let e=["billCodeFit","productNameFit","productUnitFit","productCountFit","totalPriceFit","providerIdFit"],t=this.getIsAllFit(e);t&&N().post("http://localhost:8080/bills",{billCode:this.billCode,productName:this.productName,productUnit:this.productUnit,productCount:this.productCount,totalPrice:this.totalPrice,providerId:this.providerId,isPayment:this.isPayment}).then((e=>{e.data?$.notify("保存成功",{className:"success",position:"left top"}):$.notify("保存失败",{className:"error",position:"left top"})}))},editBill(){let e=["billCodeFit","productNameFit","productUnitFit","productCountFit","totalPriceFit","providerIdFit"],t=this.getIsAllFit(e);t&&N().put("http://localhost:8080/bills",{id:this.id,billCode:this.billCode,productName:this.productName,productUnit:this.productUnit,productCount:this.productCount,totalPrice:this.totalPrice,providerId:this.providerId,isPayment:this.isPayment}).then((e=>{e.data?$.notify("保存成功",{className:"success",position:"left top"}):$.notify("保存失败",{className:"error",position:"left top"})}))},save(){this.isAdd?this.addBill():this.editBill()},back(){this.$router.back()}},created(){N().get("http://localhost:8080/providers/all").then((e=>{200==e.status&&(this.providers=e.data||[])})),this.id&&N().get("http://localhost:8080/bills/"+this.id).then((e=>{if(200==e.status){let t=["billCode","productName","productUnit","productCount","totalPrice","providerId","isPayment"];t.forEach((t=>{let r=e.data[t];this[t]=r,"birthday"==t&&(this.$refs.birthday.value=r.substring(0,10))}));let r=["billCodeFit","productNameFit","productUnitFit","productCountFit","totalPriceFit","providerIdFit"];r.forEach((e=>{this[e]=!0}))}}))}};const rr=(0,n.Z)(tr,[["render",Xt],["__scopeId","data-v-55bb13d5"]]);var or=rr;const sr=(0,s._)("div",{class:"location"},[(0,s._)("strong",null,"你现在所在的位置是:"),(0,s._)("span",null,"供应商管理页面")],-1),lr={class:"search"},ar=(0,s._)("span",null,"供应商编码：",-1),nr=(0,s._)("span",null,"供应商名称：",-1),ir=(0,s.Uk)("添加供应商"),dr={class:"providerTable",cellpadding:"0",cellspacing:"0"},ur=(0,s._)("tr",{class:"firstTr"},[(0,s._)("th",{width:"10%"},"供应商编码"),(0,s._)("th",{width:"20%"},"供应商名称"),(0,s._)("th",{width:"10%"},"联系人"),(0,s._)("th",{width:"10%"},"联系电话"),(0,s._)("th",{width:"10%"},"传真"),(0,s._)("th",{width:"10%"},"创建时间"),(0,s._)("th",{width:"30%"},"操作")],-1);function pr(e,t,r,l,a,n){const i=(0,s.up)("router-link"),d=(0,s.up)("ListItem"),u=(0,s.up)("RollPage");return(0,s.wg)(),(0,s.iD)(s.HY,null,[sr,(0,s._)("div",lr,[ar,(0,s.wy)((0,s._)("input",{name:"proCode",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.proCode=e)},null,512),[[o.nr,a.proCode]]),nr,(0,s.wy)((0,s._)("input",{name:"proName",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.proName=e)},null,512),[[o.nr,a.proName]]),(0,s._)("input",{value:"查 询",type:"submit",id:"searchbutton",onClick:t[2]||(t[2]=(...e)=>n.queryProvider&&n.queryProvider(...e))}),(0,s.Wm)(i,{to:"/provider/add"},{default:(0,s.w5)((()=>[ir])),_:1})]),(0,s._)("table",dr,[ur,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.providers,(e=>((0,s.wg)(),(0,s.j4)(d,{key:e.id,provider:e,onRemoveProvider:n.removeProvider},null,8,["provider","onRemoveProvider"])))),128))]),(0,s.Wm)(u,{page:a.page,onJumpToPage:n.jumpToPage},null,8,["page","onJumpToPage"])],64)}const cr=(0,s._)("img",{src:"/assets/images/read.png",alt:"查看",title:"查看"},null,-1),hr=(0,s._)("img",{src:"/assets/images/xiugai.png",alt:"修改",title:"修改"},null,-1),mr=(0,s._)("img",{src:"/assets/images/schu.png",alt:"删除",title:"删除"},null,-1),_r=[mr];function vr(e,t,r,o,l,a){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.provider.proCode),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.provider.proName),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.provider.proContact),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.provider.proPhone),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.provider.proFax),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.provider.creationDate),1)]),(0,s._)("td",null,[(0,s._)("span",null,[(0,s.Wm)(n,{to:{name:"provider-view",params:{id:r.provider.id}}},{default:(0,s.w5)((()=>[cr])),_:1},8,["to"])]),(0,s._)("span",null,[(0,s.Wm)(n,{to:{name:"provider-edit",params:{id:r.provider.id}}},{default:(0,s.w5)((()=>[hr])),_:1},8,["to"])]),(0,s._)("span",null,[(0,s._)("a",{href:"javascript:;",onClick:t[0]||(t[0]=e=>a.removeProvider(r.provider.id,e))},_r)])])])}var gr={name:"ListItem",props:["provider"],methods:{removeProvider(){this.$emit("removeProvider",this.provider)}}};const wr=(0,n.Z)(gr,[["render",vr]]);var fr=wr;const yr=5;var br={name:"ProviderList",components:{RollPage:rt,ListItem:fr},data(){return{proCode:"",proName:"",providers:[],page:{totalCount:0,pageSize:yr,totalPage:0,currentPage:1}}},methods:{getProvidersByConditions(e,t,r,o){let s=`http://localhost:8080/providers?currentPage=${e}&pageSize=${t}&proCode=${r}&proName=${o}`;N().get(s).then((e=>{200==e.status&&(this.providers=e.data.records||[],this.page.totalCount=e.data.total,this.page.totalPage=e.data.pages,this.page.currentPage=e.data.current)}))},queryProvider(){this.getProvidersByConditions(1,this.page.pageSize,this.proCode,this.proName)},jumpToPage(e){this.getProvidersByConditions(e,this.page.pageSize,this.proCode,this.proName)},removeProvider(e){this.$swal({title:"确认删除?",text:"数据将会被删除!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"确认!",cancelButtonColor:"#d33",cancelButtonText:"取消"}).then((t=>{t.isConfirmed&&N()["delete"]("http://localhost:8080/providers/"+e.id).then((t=>{if(t.data){let t=this.providers.indexOf(e);-1!=t&&this.providers.splice(t,1),$.notify("删除成功",{className:"success",position:"left top"})}else $.notify("删除失败",{className:"error",position:"left top"})}))}))}},created(){this.queryProvider()}};const Pr=(0,n.Z)(br,[["render",pr]]);var Cr=Pr;const Fr=(0,s._)("div",{class:"location"},[(0,s._)("strong",null,"你现在所在的位置是:"),(0,s._)("span",null,"供应商管理页面 >> 信息查看")],-1),Nr={class:"providerView"},Ur=(0,s._)("strong",null,"供应商编码：",-1),kr=(0,s._)("strong",null,"供应商名称：",-1),Br=(0,s._)("strong",null,"联系人：",-1),xr=(0,s._)("strong",null,"联系电话：",-1),$r=(0,s._)("strong",null,"传真：",-1),zr=(0,s._)("strong",null,"描述：",-1),Ir={class:"providerAddBtn"};function Dr(e,t,r,o,l,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[Fr,(0,s._)("div",Nr,[(0,s._)("p",null,[Ur,(0,s._)("span",null,(0,p.zw)(l.provider.proCode),1)]),(0,s._)("p",null,[kr,(0,s._)("span",null,(0,p.zw)(l.provider.proName),1)]),(0,s._)("p",null,[Br,(0,s._)("span",null,(0,p.zw)(l.provider.proContact),1)]),(0,s._)("p",null,[xr,(0,s._)("span",null,(0,p.zw)(l.provider.proPhone),1)]),(0,s._)("p",null,[$r,(0,s._)("span",null,(0,p.zw)(l.provider.proFax),1)]),(0,s._)("p",null,[zr,(0,s._)("span",null,(0,p.zw)(l.provider.proDesc),1)]),(0,s._)("div",Ir,[(0,s._)("input",{type:"button",name:"back",value:"返回",onClick:t[0]||(t[0]=(...e)=>a.back&&a.back(...e))})])])],64)}var Ar={name:"ProviderView",props:["id"],data(){return{provider:{}}},methods:{back(){this.$router.back()}},created(){N().get("http://localhost:8080/providers/"+this.id).then((e=>{200==e.status&&(this.provider=e.data)}))}};const qr=(0,n.Z)(Ar,[["render",Dr]]);var Rr=qr;const Vr=e=>((0,s.dD)("data-v-b62740f0"),e=e(),(0,s.Cn)(),e),jr=Vr((()=>(0,s._)("div",{class:"location"},[(0,s._)("strong",null,"你现在所在的位置是:"),(0,s._)("span",null,"用户管理页面 >> 用户添加页面")],-1))),Tr={class:"providerAdd"},Hr=Vr((()=>(0,s._)("label",{for:"proCode"},"供应商编码：",-1))),Wr=Vr((()=>(0,s._)("span",{color:"red"},"*",-1))),Zr=Vr((()=>(0,s._)("label",{for:"proName"},"供应商名称：",-1))),Yr=Vr((()=>(0,s._)("span",{color:"red"},"*",-1))),Sr=Vr((()=>(0,s._)("label",{for:"proContact"},"联系人：",-1))),Er=Vr((()=>(0,s._)("span",{color:"red"},"*",-1))),Or=Vr((()=>(0,s._)("label",{for:"proPhone"},"联系电话：",-1))),Lr=Vr((()=>(0,s._)("span",{color:"red"},"*",-1))),Mr=Vr((()=>(0,s._)("label",{for:"proAddress"},"联系地址：",-1))),Kr=Vr((()=>(0,s._)("label",{for:"proFax"},"传真：",-1))),Jr=Vr((()=>(0,s._)("label",{for:"proDesc"},"描述：",-1))),Gr={class:"providerAddBtn"};function Qr(e,t,r,l,a,n){return(0,s.wg)(),(0,s.iD)(s.HY,null,[jr,(0,s._)("div",Tr,[(0,s._)("div",null,[Hr,(0,s.wy)((0,s._)("input",{type:"text",name:"proCode","onUpdate:modelValue":t[0]||(t[0]=e=>a.proCode=e),onFocus:t[1]||(t[1]=e=>n.remind("* 请输入供应商编码",e)),onBlur:t[2]||(t[2]=e=>n.validate("proCode",e))},null,544),[[o.nr,a.proCode]]),Wr]),(0,s._)("div",null,[Zr,(0,s.wy)((0,s._)("input",{type:"text",name:"proName","onUpdate:modelValue":t[3]||(t[3]=e=>a.proName=e),onFocus:t[4]||(t[4]=e=>n.remind("* 请输入供应商名称",e)),onBlur:t[5]||(t[5]=e=>n.validate("proName",e))},null,544),[[o.nr,a.proName]]),Yr]),(0,s._)("div",null,[Sr,(0,s.wy)((0,s._)("input",{type:"text",name:"proContact","onUpdate:modelValue":t[6]||(t[6]=e=>a.proContact=e),onFocus:t[7]||(t[7]=e=>n.remind("* 请输入联系人",e)),onBlur:t[8]||(t[8]=e=>n.validate("proContact",e))},null,544),[[o.nr,a.proContact]]),Er]),(0,s._)("div",null,[Or,(0,s.wy)((0,s._)("input",{type:"text",name:"proPhone","onUpdate:modelValue":t[9]||(t[9]=e=>a.proPhone=e),onFocus:t[10]||(t[10]=e=>n.remind("* 请输入手机号",e)),onBlur:t[11]||(t[11]=e=>n.validate("proPhone",e))},null,544),[[o.nr,a.proPhone]]),Lr]),(0,s._)("div",null,[Mr,(0,s.wy)((0,s._)("input",{type:"text",name:"proAddress","onUpdate:modelValue":t[12]||(t[12]=e=>a.proAddress=e)},null,512),[[o.nr,a.proAddress]])]),(0,s._)("div",null,[Kr,(0,s.wy)((0,s._)("input",{type:"text",name:"proFax","onUpdate:modelValue":t[13]||(t[13]=e=>a.proFax=e)},null,512),[[o.nr,a.proFax]])]),(0,s._)("div",null,[Jr,(0,s.wy)((0,s._)("input",{type:"text",name:"proDesc","onUpdate:modelValue":t[14]||(t[14]=e=>a.proDesc=e)},null,512),[[o.nr,a.proDesc]])]),(0,s._)("div",Gr,[(0,s._)("input",{type:"button",name:"add",value:"保存",onClick:t[15]||(t[15]=(...e)=>n.save&&n.save(...e))}),(0,s._)("input",{type:"button",name:"back",value:"返回",onClick:t[16]||(t[16]=(...e)=>n.back&&n.back(...e))})])])],64)}var Xr={name:"ProviderEdit",props:["id"],data(){return{proCode:"",proCodeFit:!1,proName:"",proNameFit:!1,proContact:"",proContactFit:!1,proPhone:"",proPhoneFit:!1,proAddress:"",proFax:"",proDesc:""}},computed:{isAdd(){return!this.id}},methods:{remind(e,t){er(t,"info",e)},validate(e,t){if("proCode"==e){let e=""!=this.proCode;e?er(t,"success",""):er(t,"error","编码不能为空，请重新输入"),this.proCodeFit=e}if("proName"==e){let e=""!=this.proName;e?er(t,"success",""):er(t,"error","供应商名称不能为空，请重新输入"),this.proNameFit=e}if("proContact"==e){let e=""!=this.proContact;e?er(t,"success",""):er(t,"error","联系人不能为空，请重新输入"),this.proContactFit=e}if("proPhone"==e){let e=/^(13[0-9]|15[0-9]|18[0-9])\d{8}$/,r=this.proPhone.match(e);r?er(t,"success",""):er(t,"error","您输入的手机号格式不正确"),this.proPhoneFit=r}},getIsAllFit(e){let t=!0;return e.forEach((e=>{this[e]||(t=!1)})),t||alert("请检查表单数据"),t},addProvider(){let e=["proCodeFit","proNameFit","proContactFit","proPhoneFit"],t=this.getIsAllFit(e);t&&N().post("http://localhost:8080/providers",{proCode:this.proCode,proName:this.proName,proContact:this.proContact,proPhone:this.proPhone,proAddress:this.proAddress,proFax:this.proFax,proDesc:this.proDesc}).then((e=>{e.data?$.notify("保存成功",{className:"success",position:"left top"}):$.notify("保存失败",{className:"error",position:"left top"})}))},editProvider(){let e=["proCodeFit","proNameFit","proContactFit","proPhoneFit"],t=this.getIsAllFit(e);t&&N().put("http://localhost:8080/providers",{id:this.id,proCode:this.proCode,proName:this.proName,proContact:this.proContact,proPhone:this.proPhone,proAddress:this.proAddress,proFax:this.proFax,proDesc:this.proDesc}).then((e=>{e.data?$.notify("保存成功",{className:"success",position:"left top"}):$.notify("保存失败",{className:"error",position:"left top"})}))},save(){this.isAdd?this.addProvider():this.editProvider()},back(){this.$router.back()}},created(){this.id&&N().get("http://localhost:8080/providers/"+this.id).then((e=>{if(200==e.status){let t=["proCode","proName","proContact","proPhone","proAddress","proFax","proDesc"];t.forEach((t=>{this[t]=e.data[t]}));let r=["proCodeFit","proNameFit","proContactFit","proPhoneFit"];r.forEach((e=>{this[e]=!0}))}}))}};const eo=(0,n.Z)(Xr,[["render",Qr],["__scopeId","data-v-b62740f0"]]);var to=eo;const ro=(0,s._)("div",{class:"location"},[(0,s._)("strong",null,"你现在所在的位置是:"),(0,s._)("span",null,"用户管理页面")],-1),oo={class:"search"},so=(0,s._)("span",null,"用户名：",-1),lo=(0,s._)("span",null,"用户角色：",-1),ao=(0,s._)("option",{value:"0"},"--请选择--",-1),no=["value"],io=(0,s.Uk)("添加用户"),uo={class:"providerTable",cellpadding:"0",cellspacing:"0"},po=(0,s._)("tr",{class:"firstTr"},[(0,s._)("th",{width:"10%"},"用户编码"),(0,s._)("th",{width:"20%"},"用户名称"),(0,s._)("th",{width:"10%"},"性别"),(0,s._)("th",{width:"10%"},"年龄"),(0,s._)("th",{width:"10%"},"电话"),(0,s._)("th",{width:"10%"},"用户角色"),(0,s._)("th",{width:"30%"},"操作")],-1);function co(e,t,r,l,a,n){const i=(0,s.up)("router-link"),d=(0,s.up)("ListItem"),u=(0,s.up)("RollPage");return(0,s.wg)(),(0,s.iD)(s.HY,null,[ro,(0,s._)("div",oo,[so,(0,s.wy)((0,s._)("input",{name:"queryname",class:"input-text",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.queryUserName=e)},null,512),[[o.nr,a.queryUserName]]),lo,(0,s.wy)((0,s._)("select",{name:"queryUserRole","onUpdate:modelValue":t[1]||(t[1]=e=>a.queryUserRole=e)},[ao,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.roles,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.id},(0,p.zw)(e.roleName),9,no)))),256))],512),[[o.bM,a.queryUserRole]]),(0,s._)("input",{value:"查 询",type:"submit",id:"searchbutton",onClick:t[2]||(t[2]=(...e)=>n.queryUser&&n.queryUser(...e))}),(0,s.Wm)(i,{to:"/user/add"},{default:(0,s.w5)((()=>[io])),_:1})]),(0,s._)("table",uo,[po,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.users,(e=>((0,s.wg)(),(0,s.j4)(d,{key:e.id,roles:a.roles,user:e,onRemoveUser:n.removeUser},null,8,["roles","user","onRemoveUser"])))),128))]),(0,s.Wm)(u,{page:a.page,onJumpToPage:n.jumpToPage},null,8,["page","onJumpToPage"])],64)}const ho=(0,s._)("img",{src:"/assets/images/read.png",alt:"查看",title:"查看"},null,-1),mo=(0,s._)("img",{src:"/assets/images/xiugai.png",alt:"修改",title:"修改"},null,-1),_o=(0,s._)("img",{src:"/assets/images/schu.png",alt:"删除",title:"删除"},null,-1),vo=[_o];function go(e,t,r,o,l,a){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.user.userCode),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.user.userName),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(1==r.user.gender?"男":"女"),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(a.age),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(r.user.phone),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,p.zw)(a.userRoleName),1)]),(0,s._)("td",null,[(0,s._)("span",null,[(0,s.Wm)(n,{to:{name:"user-view",params:{id:r.user.id}}},{default:(0,s.w5)((()=>[ho])),_:1},8,["to"])]),(0,s._)("span",null,[(0,s.Wm)(n,{to:{name:"user-edit",params:{id:r.user.id}}},{default:(0,s.w5)((()=>[mo])),_:1},8,["to"])]),(0,s._)("span",null,[(0,s._)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>a.removeUser&&a.removeUser(...e))},vo)])])])}var wo={name:"ListItem",props:["user","roles"],computed:{userRoleName(){let e=this.roles.find((e=>e.id==this.user.userRole));return e?e.roleName:""},age(){let e=this.user.birthday;if(!e||""==e)return;let t=(new Date).getFullYear(),r=new Date(e).getFullYear();return t-r}},methods:{removeUser(){this.$emit("removeUser",this.user)}}};const fo=(0,n.Z)(wo,[["render",go]]);var yo=fo;const bo=5;var Po={name:"UserList",components:{RollPage:rt,ListItem:yo},data(){return{queryUserName:"",queryUserRole:0,roles:[],users:[],page:{totalCount:0,pageSize:bo,totalPage:0,currentPage:1}}},methods:{getAllRoles(){N().get("http://localhost:8080/roles").then((e=>{200==e.status&&(this.roles=e.data||[])}))},getUsersByConditions(e,t,r,o){let s=`http://localhost:8080/users?currentPage=${e}&pageSize=${t}&userName=${r}&userRole=${o}`;N().get(s).then((e=>{200==e.status&&(this.users=e.data.records||[],this.page.totalCount=e.data.total,this.page.totalPage=e.data.pages,this.page.currentPage=e.data.current)}))},queryUser(){this.getUsersByConditions(1,this.page.pageSize,this.queryUserName,this.queryUserRole)},jumpToPage(e){this.getUsersByConditions(e,this.page.pageSize,this.queryUserName,this.queryUserRole)},removeUser(e){this.$swal({title:"确认删除?",text:"数据将会被删除!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"确认!",cancelButtonColor:"#d33",cancelButtonText:"取消"}).then((t=>{t.isConfirmed&&N()["delete"]("http://localhost:8080/users/"+e.id).then((t=>{if(t.data){let t=this.users.indexOf(e);-1!=t&&this.users.splice(t,1),$.notify("删除成功",{className:"success",position:"left top"})}else $.notify("删除失败",{className:"error",position:"left top"})}))}))}},created(){this.getAllRoles(),this.queryUser()}};const Co=(0,n.Z)(Po,[["render",co]]);var Fo=Co;const No=(0,s._)("div",{class:"location"},[(0,s._)("strong",null,"你现在所在的位置是:"),(0,s._)("span",null,"用户管理页面 >> 用户信息查看页面")],-1),Uo={class:"providerView"},ko=(0,s._)("strong",null,"用户编号：",-1),Bo=(0,s._)("strong",null,"用户名称：",-1),xo=(0,s._)("strong",null,"用户性别：",-1),$o=(0,s._)("strong",null,"出生日期：",-1),zo=(0,s._)("strong",null,"用户电话：",-1),Io=(0,s._)("strong",null,"用户地址：",-1),Do=(0,s._)("strong",null,"用户角色：",-1),Ao={class:"providerAddBtn"};function qo(e,t,r,o,l,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[No,(0,s._)("div",Uo,[(0,s._)("p",null,[ko,(0,s._)("span",null,(0,p.zw)(l.user.userCode),1)]),(0,s._)("p",null,[Bo,(0,s._)("span",null,(0,p.zw)(l.user.userName),1)]),(0,s._)("p",null,[xo,(0,s._)("span",null,(0,p.zw)(1==l.user.gender?"男":"女"),1)]),(0,s._)("p",null,[$o,(0,s._)("span",null,(0,p.zw)(a.birthday),1)]),(0,s._)("p",null,[zo,(0,s._)("span",null,(0,p.zw)(l.user.phone),1)]),(0,s._)("p",null,[Io,(0,s._)("span",null,(0,p.zw)(l.user.address),1)]),(0,s._)("p",null,[Do,(0,s._)("span",null,(0,p.zw)(l.user.roleName),1)]),(0,s._)("div",Ao,[(0,s._)("input",{type:"button",name:"back",value:"返回",onClick:t[0]||(t[0]=(...e)=>a.back&&a.back(...e))})])])],64)}var Ro={name:"UserView",props:["id"],data(){return{user:{}}},computed:{birthday(){let e=this.user.birthday||"";return e.substring(0,10)}},methods:{back(){this.$router.back()}},created(){N().get("http://localhost:8080/users/"+this.id).then((e=>{200==e.status&&(this.user=e.data)}))}};const Vo=(0,n.Z)(Ro,[["render",qo]]);var jo=Vo;const To=e=>((0,s.dD)("data-v-94fc2ec0"),e=e(),(0,s.Cn)(),e),Ho=To((()=>(0,s._)("div",{class:"location"},[(0,s._)("strong",null,"你现在所在的位置是:"),(0,s._)("span",null,"用户管理页面 >> 用户添加页面")],-1))),Wo={class:"providerAdd"},Zo={key:0},Yo=To((()=>(0,s._)("label",{for:"userCode"},"用户编码：",-1))),So=To((()=>(0,s._)("span",{color:"red"},"*",-1))),Eo=To((()=>(0,s._)("label",{for:"userName"},"用户名称：",-1))),Oo=To((()=>(0,s._)("span",{color:"red"},"*",-1))),Lo={key:1},Mo=To((()=>(0,s._)("label",{for:"userPassword"},"用户密码：",-1))),Ko=To((()=>(0,s._)("span",{color:"red"},"*",-1))),Jo={key:2},Go=To((()=>(0,s._)("label",{for:"ruserPassword"},"确认密码：",-1))),Qo=To((()=>(0,s._)("span",{color:"red"},"*",-1))),Xo=To((()=>(0,s._)("label",null,"用户性别：",-1))),es=To((()=>(0,s._)("option",{value:"1"},"男",-1))),ts=To((()=>(0,s._)("option",{value:"2"},"女",-1))),rs=[es,ts],os=To((()=>(0,s._)("label",{for:"birthday"},"出生日期：",-1))),ss=To((()=>(0,s._)("span",{color:"red"},"*",-1))),ls=To((()=>(0,s._)("label",{for:"phone"},"用户电话：",-1))),as=To((()=>(0,s._)("span",{color:"red"},"*",-1))),ns=To((()=>(0,s._)("label",{for:"address"},"用户地址：",-1))),is=To((()=>(0,s._)("label",null,"用户角色：",-1))),ds=To((()=>(0,s._)("option",{value:"0"},"--请选择--",-1))),us=["value"],ps=To((()=>(0,s._)("span",{color:"red"},"*",-1))),cs={class:"providerAddBtn"};function hs(e,t,r,l,a,n){return(0,s.wg)(),(0,s.iD)(s.HY,null,[Ho,(0,s._)("div",Wo,[n.isAdd?((0,s.wg)(),(0,s.iD)("div",Zo,[Yo,(0,s.wy)((0,s._)("input",{type:"text",name:"userCode","onUpdate:modelValue":t[0]||(t[0]=e=>a.userCode=e),onFocus:t[1]||(t[1]=e=>n.remind("* 用户编码是您登录系统的账号",e)),onBlur:t[2]||(t[2]=e=>n.validate("userCode",e))},null,544),[[o.nr,a.userCode]]),So])):(0,s.kq)("",!0),(0,s._)("div",null,[Eo,(0,s.wy)((0,s._)("input",{type:"text",name:"userName","onUpdate:modelValue":t[3]||(t[3]=e=>a.userName=e),onFocus:t[4]||(t[4]=e=>n.remind("* 用户名长度必须是大于1小于10的字符",e)),onBlur:t[5]||(t[5]=e=>n.validate("userName",e))},null,544),[[o.nr,a.userName]]),Oo]),n.isAdd?((0,s.wg)(),(0,s.iD)("div",Lo,[Mo,(0,s.wy)((0,s._)("input",{type:"password",name:"userPassword","onUpdate:modelValue":t[6]||(t[6]=e=>a.userPassword=e),onFocus:t[7]||(t[7]=e=>n.remind("* 密码长度必须是大于6小于20",e)),onBlur:t[8]||(t[8]=e=>n.validate("userPassword",e))},null,544),[[o.nr,a.userPassword]]),Ko])):(0,s.kq)("",!0),n.isAdd?((0,s.wg)(),(0,s.iD)("div",Jo,[Go,(0,s.wy)((0,s._)("input",{type:"password",name:"ruserPassword","onUpdate:modelValue":t[9]||(t[9]=e=>a.ruserPassword=e),onFocus:t[10]||(t[10]=e=>n.remind("* 请输入与上面一致的密码",e)),onBlur:t[11]||(t[11]=e=>n.validate("ruserPassword",e))},null,544),[[o.nr,a.ruserPassword]]),Qo])):(0,s.kq)("",!0),(0,s._)("div",null,[Xo,(0,s.wy)((0,s._)("select",{name:"gender","onUpdate:modelValue":t[12]||(t[12]=e=>a.gender=e)},rs,512),[[o.bM,a.gender]])]),(0,s._)("div",null,[os,(0,s._)("input",{type:"text",Class:"Wdate",name:"birthday",ref:"birthday",readonly:"readonly",onclick:"WdatePicker();",onFocus:t[13]||(t[13]=e=>n.remind("* 点击输入框，选择日期",e)),onBlur:t[14]||(t[14]=e=>n.validate("birthday",e))},null,544),ss]),(0,s._)("div",null,[ls,(0,s.wy)((0,s._)("input",{type:"text",name:"phone","onUpdate:modelValue":t[15]||(t[15]=e=>a.phone=e),onFocus:t[16]||(t[16]=e=>n.remind("* 请输入手机号",e)),onBlur:t[17]||(t[17]=e=>n.validate("phone",e))},null,544),[[o.nr,a.phone]]),as]),(0,s._)("div",null,[ns,(0,s.wy)((0,s._)("input",{name:"address","onUpdate:modelValue":t[18]||(t[18]=e=>a.address=e)},null,512),[[o.nr,a.address]])]),(0,s._)("div",null,[is,(0,s.wy)((0,s._)("select",{name:"userRole","onUpdate:modelValue":t[19]||(t[19]=e=>a.userRole=e),onFocus:t[20]||(t[20]=e=>n.remind("* 请选择用户角色",e)),onBlur:t[21]||(t[21]=e=>n.validate("userRole",e))},[ds,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.roles,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.id},(0,p.zw)(e.roleName),9,us)))),256))],544),[[o.bM,a.userRole]]),ps]),(0,s._)("div",cs,[(0,s._)("input",{type:"button",name:"add",value:"保存",onClick:t[22]||(t[22]=(...e)=>n.save&&n.save(...e))}),(0,s._)("input",{type:"button",name:"back",value:"返回",onClick:t[23]||(t[23]=(...e)=>n.back&&n.back(...e))})])])],64)}const ms=5;var _s={name:"UserEdit",props:["id"],data(){return{roles:[],userCode:"",userCodeFit:!1,userName:"",userNameFit:!1,userPassword:"",userPasswordFit:!1,ruserPassword:"",ruserPasswordFit:!1,birthday:"",birthdayFit:!1,phone:"",phoneFit:!1,userRole:0,userRoleFit:!1,gender:1,address:""}},computed:{isAdd(){return!this.id}},methods:{remind(e,t){er(t,"info",e)},validate(e,t){if("userCode"==e){if(""==this.userCode)return er(t,"error","用户编号不能为空"),void(this.userCodeFit=!1);let e=`http://localhost:8080/users?currentPage=1&pageSize=${ms}&userCode=${this.userCode}`;N().get(e).then((e=>200!=e.status?(er(t,"error","服务器错误"),void(this.userCodeFit=!1)):e.data.total>0?(er(t,"error","该用户账号已存在"),void(this.userCodeFit=!1)):(er(t,"success","该账号可以使用"),void(this.userCodeFit=!0))))}if("userName"==e){let e=this.userName.length>1&&this.userName.length<10;e?er(t,"success",""):er(t,"error","用户名输入的不符合规范，请重新输入"),this.userNameFit=e}if("userPassword"==e){let e=this.userPassword.length>6&&this.userPassword.length<20;e?er(t,"success",""):er(t,"error","密码输入不符合规范，请重新输入"),this.userPasswordFit=e}if("ruserPassword"==e){let e=this.ruserPassword.length>6&&this.ruserPassword.length<20&&this.ruserPassword==this.userPassword;e?er(t,"success",""):er(t,"error","两次密码输入不一致，请重新输入"),this.ruserPasswordFit=e}if("birthday"==e){this.birthday=this.$refs.birthday.value;let e=this.birthday&&""!=this.birthday;e?er(t,"success",""):er(t,"error","选择的日期不正确，请重新输入"),this.birthdayFit=e}if("phone"==e){let e=/^(13[0-9]|15[0-9]|18[0-9])\d{8}$/,r=this.phone.match(e);r?er(t,"success",""):er(t,"error","您输入的手机号格式不正确"),this.phoneFit=r}if("userRole"==e){let e=0!=this.userRole;e?er(t,"success",""):er(t,"error","请重新选择用户角色"),this.userRoleFit=e}},getIsAllFit(e){let t=!0;return e.forEach((e=>{this[e]||(t=!1)})),t||alert("请检查表单数据"),t},addUser(){let e=["userCodeFit","userNameFit","userPasswordFit","ruserPasswordFit","birthdayFit","phoneFit","userRoleFit"],t=this.getIsAllFit(e);t&&N().post("http://localhost:8080/users",{userCode:this.userCode,userName:this.userName,password:this.ruserPassword,birthday:this.birthday,phone:this.phone,userRole:this.userRole,gender:this.gender,address:this.address}).then((e=>{e.data?$.notify("保存成功",{className:"success",position:"left top"}):$.notify("保存失败",{className:"error",position:"left top"})}))},editUser(){let e=["userNameFit","birthdayFit","phoneFit","userRoleFit"],t=this.getIsAllFit(e);t&&N().put("http://localhost:8080/users",{id:this.id,userName:this.userName,birthday:this.birthday,phone:this.phone,userRole:this.userRole,gender:this.gender,address:this.address}).then((e=>{e.data?$.notify("保存成功",{className:"success",position:"left top"}):$.notify("保存失败",{className:"error",position:"left top"})}))},save(){this.isAdd?this.addUser():this.editUser()},back(){this.$router.back()}},created(){N().get("http://localhost:8080/roles").then((e=>{200==e.status&&(this.roles=e.data||[])})),this.id&&N().get("http://localhost:8080/users/"+this.id).then((e=>{if(200==e.status){let t=["userName","gender","birthday","phone","address","userRole"];t.forEach((t=>{let r=e.data[t];this[t]=r,"birthday"==t&&(this.$refs.birthday.value=r.substring(0,10))}));let r=["userNameFit","birthdayFit","phoneFit","userRoleFit"];r.forEach((e=>{this[e]=!0}))}}))}};const vs=(0,n.Z)(_s,[["render",hs],["__scopeId","data-v-94fc2ec0"]]);var gs=vs;const ws=(0,s._)("div",{class:"location"},[(0,s._)("strong",null,"你现在所在的位置是:"),(0,s._)("span",null,"密码修改页面")],-1),fs={class:"providerAdd"},ys=(0,s._)("input",{type:"hidden",name:"method",value:"savepwd"},null,-1),bs={class:"info"},Ps={class:""},Cs=(0,s._)("label",{for:"oldPassword"},"旧密码：",-1),Fs=(0,s._)("span",{color:"red"},"*",-1),Ns=(0,s._)("label",{for:"newPassword"},"新密码：",-1),Us=(0,s._)("span",{color:"red"},"*",-1),ks=(0,s._)("label",{for:"rnewpassword"},"确认新密码：",-1),Bs=(0,s._)("span",{color:"red"},"*",-1),xs={class:"providerAddBtn"};function $s(e,t,r,l,a,n){return(0,s.wg)(),(0,s.iD)(s.HY,null,[ws,(0,s._)("div",fs,[ys,(0,s._)("div",bs,(0,p.zw)(e.message),1),(0,s._)("div",Ps,[Cs,(0,s.wy)((0,s._)("input",{type:"password",name:"oldpassword","onUpdate:modelValue":t[0]||(t[0]=e=>a.oldpassword=e),onFocus:t[1]||(t[1]=e=>n.remind("* 请输入原密码",e)),onBlur:t[2]||(t[2]=e=>n.validate("oldpassword",e))},null,544),[[o.nr,a.oldpassword]]),Fs]),(0,s._)("div",null,[Ns,(0,s.wy)((0,s._)("input",{type:"password",name:"newpassword","onUpdate:modelValue":t[3]||(t[3]=e=>a.newpassword=e),onFocus:t[4]||(t[4]=e=>n.remind("* 密码长度必须是大于6小于20",e)),onBlur:t[5]||(t[5]=e=>n.validate("newpassword",e))},null,544),[[o.nr,a.newpassword]]),Us]),(0,s._)("div",null,[ks,(0,s.wy)((0,s._)("input",{type:"password",name:"rnewpassword","onUpdate:modelValue":t[6]||(t[6]=e=>a.rnewpassword=e),onFocus:t[7]||(t[7]=e=>n.remind("* 请输入与上面一致的密码",e)),onBlur:t[8]||(t[8]=e=>n.validate("rnewpassword",e))},null,544),[[o.nr,a.rnewpassword]]),Bs]),(0,s._)("div",xs,[(0,s._)("input",{type:"button",name:"add",value:"保存",onClick:t[9]||(t[9]=(...e)=>n.save&&n.save(...e))})])])],64)}var zs={name:"ModifyPwd",data(){return{oldpassword:"",oldpasswordFit:!1,newpassword:"",newpasswordFit:!1,rnewpassword:"",rnewpasswordFit:!1}},methods:{remind(e,t){er(t,"info",e)},validate(e,t){if("oldpassword"==e){if(""==this.oldpassword)return er(t,"error","请输入旧密码"),void(this.oldpasswordFit=!1);let e=this.session.user;if(!e)return er(t,"error","程序错误，请重新登录"),void(this.oldpasswordFit=!1);e.userPassword!=this.oldpassword?(er(t,"error","原密码输入不正确"),this.oldpasswordFit=!1):(this.oldpasswordFit=!0,er(t,"success",""))}if("newpassword"==e){let e=this.newpassword.length>6&&this.newpassword.length<20;e?er(t,"success",""):er(t,"error","密码输入不符合规范，请重新输入"),this.newpasswordFit=e}if("rnewpassword"==e){let e=this.rnewpassword.length>6&&this.rnewpassword.length<20&&this.rnewpassword==this.newpassword;e?er(t,"success",""):er(t,"error","两次密码输入不一致，请重新输入"),this.rnewpasswordFit=e}},getIsAllFit(e){let t=!0;return e.forEach((e=>{this[e]||(t=!1)})),t||alert("请检查表单数据"),t},save(){let e=["oldpasswordFit","newpasswordFit","rnewpasswordFit"],t=this.getIsAllFit(e);t&&N().put("http://localhost:8080/users",{id:this.session.user.id,userPassword:this.rnewpassword}).then((e=>{e.data?($.notify("保存成功",{className:"success",position:"left top"}),this.session.user.userPassword=this.rnewpassword):$.notify("保存失败",{className:"error",position:"left top"})}))}}};const Is=(0,n.Z)(zs,[["render",$s]]);var Ds=Is;const As=[{name:"login",path:"/login",component:B,meta:{title:"登录"}},{name:"home",path:"/",component:ve,meta:{title:"主页"},children:[{name:"bill",path:"/bill",component:ye,meta:{title:"订单管理"},children:[{name:"bill-list",path:"/bill/list",component:mt},{name:"bill-view",path:"/bill/view/:id",component:Bt,props:!0},{name:"bill-add",path:"/bill/add",component:or},{name:"bill-edit",path:"/bill/edit/:id",component:or,props:!0}]},{name:"provider",path:"/provider",component:Fe,meta:{title:"供应商管理"},children:[{name:"provider-list",path:"/provider/list",component:Cr},{name:"provider-view",path:"/provider/view/:id",component:Rr,props:!0},{name:"provider-add",path:"/provider/add",component:to},{name:"provider-edit",path:"/provider/edit/:id",component:to,props:!0}]},{name:"user",path:"/user",component:Be,meta:{title:"用户管理"},children:[{name:"user-list",path:"/user/list",component:Fo},{name:"user-view",path:"/user/view/:id",component:jo,props:!0},{name:"user-add",path:"/user/add",component:gs},{name:"user-edit",path:"/user/edit/:id",component:gs,props:!0},{name:"user-modifypwd",path:"/user/modifypwd",component:Ds}]}]}],qs=(0,u.p7)({history:(0,u.r5)(),routes:As});qs.beforeEach(((e,t)=>{let r="success"==sessionStorage.getItem("loginStatus");return"login"==e.name||r?"login"==e.name&&r?N().get("http://localhost:8080/logout").then((e=>"success"==e.data.status?(sessionStorage.clear(),{path:"/login"}):{path:t.path})):void 0:{path:"/login"}})),qs.afterEach(((e,t)=>{document.title=e.meta.title||"超市订单管理系统"}));var Rs=qs,Vs=r(6553),js=r.n(Vs);const Ts=(0,o.ri)(d);Ts.use(js()),Ts.use(Rs),Ts.mount("#app"),Ts.config.globalProperties.session={}}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,r),l.exports}r.m=e,function(){var e=[];r.O=function(t,o,s,l){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],l=e[u][2];for(var n=!0,i=0;i<o.length;i++)(!1&l||a>=l)&&Object.keys(r.O).every((function(e){return r.O[e](o[i])}))?o.splice(i--,1):(n=!1,l<a&&(a=l));if(n){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[o,s,l]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,l,a=o[0],n=o[1],i=o[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(i)var u=i(r)}for(t&&t(o);d<a.length;d++)l=a[d],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(u)},o=self["webpackChunksmbms"]=self["webpackChunksmbms"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(8703)}));o=r.O(o)})();
//# sourceMappingURL=app.bd983b8d.js.map